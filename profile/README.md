## FluxBalancer

**FluxBalancer** — это исследовательский программный прототип адаптивного HTTP-балансировщика нагрузки с поддержкой управляемой репликации запросов, разработанный в рамках выпускной квалификационной работы по направлению *«Прикладная математика»*.

Проект посвящён задаче **балансировки нагрузки и управления репликацией в распределённых системах**, работающих в контейнерной инфраструктуре Docker. В отличие от классических однокритериальных алгоритмов, FluxBalancer использует методы **многокритериального принятия решений (MCDM)** для онлайн-выбора узлов маршрутизации на основе их текущего состояния.

### Ключевая идея

Маршрутизация запросов формулируется как многокритериальная задача выбора оптимального узла по совокупности затратных критериев:

* загрузка CPU,
* использование оперативной памяти,
* интенсивность сетевого трафика,
* фактическая задержка ответа.

Вес каждого критерия **вычисляется динамически** с использованием **энтропийного метода Шеннона**, что позволяет автоматически адаптировать приоритеты без ручной настройки параметров. На основе полученных весов выполняется ранжирование узлов с помощью MCDM-алгоритмов.

### Реализованные алгоритмы балансировки

В системе реализованы и экспериментально исследованы следующие методы:

* **TOPSIS** — метод идеальной точки;
* **AIRM** — стохастический MCDM-алгоритм с моделированием весов распределением Дирихле;
* **ELECTRE (упрощённый)** — метод превосходства по рангу;
* **SAW** — линейная скаляризация (взвешенная сумма).

Эксперименты показали, что **TOPSIS и AIRM** обеспечивают наилучший компромисс между снижением хвостовых задержек и равномерностью распределения нагрузки в онлайн-сценариях.

### Репликация запросов

FluxBalancer поддерживает управляемую репликацию запросов как механизм подавления хвостовых задержек:

* фиксированную параллельную репликацию;
* отложенную репликацию (hedged requests);
* задел под спекулятивное выполнение.

Репликация рассматривается как компромисс между снижением задержки и ростом **work amplification**. В проекте исследуется влияние качества ранжирования узлов на эффективность репликации и устойчивость системы к перегрузкам.

### Архитектура

Система реализована как асинхронный HTTP-прокси и включает:

* прокси-слой маршрутизации запросов;
* подсистему онлайн-сбора метрик Docker-контейнеров;
* модуль многокритериального принятия решений;
* механизм агрегации и сглаживания метрик (EMA);
* расширяемую архитектуру с разделением *domain / application / adapters*.

Технологический стек: **Python 3.12, FastAPI, aiohttp, Docker, NumPy**.

### Назначение проекта

Проект носит **исследовательский характер** и предназначен для:

* экспериментального сравнения MCDM-алгоритмов в задачах балансировки;
* изучения влияния репликации на хвостовые задержки и нагрузку;
* анализа компромисса между SLA-задержками и избыточной вычислительной работой.

Полученные результаты могут быть использованы при проектировании высоконагруженных микросервисных систем и облачных платформ.
